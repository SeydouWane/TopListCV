{% extends 'base.html' %}
{% block title %}RÃ©sultats du Ranker{% endblock %}

{% block content %}
<h2>ğŸ“Š RÃ©sultats du Ranker</h2>
<p><strong>Nom :</strong> {{ ranker.titre }}</p>
<p><strong>CompÃ©tences :</strong> {{ ranker.skills }}</p>

<form method="get" style="margin-bottom: 20px;">
  <label for="tri">Trier par :</label>
  <select name="tri" id="tri" onchange="this.form.submit()">
    <option value="competences" {% if request.args.get('tri') == 'competences' %}selected{% endif %}>CompÃ©tences</option>
    <option value="experience" {% if request.args.get('tri') == 'experience' %}selected{% endif %}>ExpÃ©rience</option>
    <option value="combine" {% if request.args.get('tri') == 'combine' %}selected{% endif %}>CompÃ©tences + ExpÃ©rience</option>
  </select>
</form>

<ol>
  {% for result in results %}
    <li>
      {{ result.filename }} â€”
      Score CompÃ©tence : {{ result.relevance_score }},
      ExpÃ©rience : {{ result.experience_days }} jours<br>
      <a href="{{ url_for('main.serve_uploaded_file', filename=result.filename) }}" target="_blank">ğŸ” Voir le CV</a>
    </li>
  {% endfor %}
</ol>

<a href="{{ url_for('main.dashboard') }}">â† Retour au tableau de bord</a>
{% endblock %}
